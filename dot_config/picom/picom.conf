# Picom configuration for 4K i3 setup

# Backend and vsync
backend = "glx"
vsync = true
refresh-rate = 60
experimental-backends = true  # optional, helps GL stability on some setups

# Shadows
shadow = true
shadow-radius = 12
shadow-offset-x = 3
shadow-offset-y = 3
shadow-exclude = [
    "name = 'Notification'",
    "class_g = 'Conky'",
    "class_g ?= 'Notify-osd'",
    "class_g = 'Cairo-clock'",
    "_GTK_FRAME_EXTENTS@:c",
    "class_g = 'tray'",
    "class_g = 'i3bar'",
    "class_g = 'Dunst'"
]

# Fading and opacity
fading = false
inactive-opacity = 1.0
frame-opacity = 1.0
menu-opacity = 1.0

# Rounded corners
corner-radius = 0
rounded-corners-exclude = [
    "window_type = 'dock'",
    "window_type = 'desktop'"
]

# Window type specific tweaks
wintypes:
{
    tooltip = { fade = true; shadow = true; opacity = 1.0; focus = true; full-shadow = false; };
    dock = { shadow = false; clip-shadow-above = true; };
    dnd = { shadow = false; };
    popup_menu = { opacity = 1.0; shadow = false; };
    dropdown_menu = { opacity = 1.0; shadow = false; };
    toolbar = { clip-shadow-above = true; };
    unknown = { opacity = 0.0; };
    utility = { shadow = false; };
}
;
